@{
    ViewData["Title"] = "Sign Up";
}

<div class="login-container">
    <div class="welcome-section">
        <h1>Welcome to<br>Student Portal</h1>
        <p>Login to access your account</p>
        <img src="~/images/招聘矢量插画人物场景插画招聘1100924黑与白-01 copy 1.png" alt="Illustration" class="illustration">
    </div>

    <div class="login-section">
        <h1>Sign up</h1>
        <p class="fs-5">Enter your account details</p>

        <!-- عرض رسائل الخطأ -->
        <div id="error-message" class="alert alert-danger d-none" role="alert">
            Please fill out all required fields correctly!
        </div>

        <form id="signup-form" action="/SignUp/add" method="post" novalidate>
            <div class="mb-3">
                <label for="Email" class="form-label">Email :</label>
                <input type="email" id="Email" name="Email" class="form-control w" placeholder="Enter your Email" required>
            </div>

            <div class="mb-3">
                <label for="Username" class="form-label">Username :</label>
                <input type="text" id="Username" name="Username" class="form-control w" placeholder="Enter your Username" required>
            </div>

            <div class="col-md-6 mb-3">
                <label for="nickName" class="form-label">Nick Name</label>
                <input name="NickName" type="text" class="form-control w" id="nickName" placeholder="Your Nick Name" required>
            </div>

            <div class="col-md-6 mb-3">
                <label for="gender" class="form-label">Gender :</label>
                <select name="Gender" class="form-control w" id="gender" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </div>

            <div class="col-md-6 mb-3">
                <label for="country" class="form-label">Country :</label>
                <select name="Country" class="form-control w" id="country" required>
                    <option value="">Select Country</option>
                    <option value="USA">USA</option>
                    <option value="UK">UK</option>
                    <option value="India">India</option>
                </select>
            </div>

            <div class="col-md-6 mb-3">
                <label for="language" class="form-label">Language :</label>
                <select name="Language" class="form-control w" id="language" required>
                    <option value="">Select Language</option>
                    <option value="English">English</option>
                    <option value="Spanish">Spanish</option>
                </select>
            </div>

            <div class="form-group mb-3">
                <label for="TimeZone" class="form-label">Time Zone :</label>
                <select name="TimeZone" class="form-control w" required>
                    <option value="">Select Time Zone</option>
                    <option value="UTC">UTC (Coordinated Universal Time)</option>
                    <option value="Europe/London">GMT (Greenwich Mean Time)</option>
                    <option value="Africa/Cairo">EET (Eastern European Time - Cairo)</option>
                    <option value="Pacific/Auckland">Pacific/Auckland (New Zealand Time)</option>
                    <option value="America/New_York">Eastern Standard Time (EST)</option>
                    <option value="America/Los_Angeles">Pacific Standard Time (PST)</option>
                    <option value="America/Chicago">Central Standard Time (CST)</option>
                    <option value="Europe/Berlin">Central European Time (CET)</option>
                    <option value="Asia/Dubai">Arabian Standard Time (AST - Dubai)</option>
                    <option value="Asia/Tokyo">Japan Standard Time (JST)</option>
                    <option value="Asia/Kolkata">Indian Standard Time (IST)</option>
                    <option value="Australia/Sydney">Australian Eastern Time (AET - Sydney)</option>
                </select>
            </div>

           <div class="mb-3">
                <label for="PasswordHash" class="form-label">Password :</label>
                <input 
                type="password" 
                id="PasswordHash" 
                name="PasswordHash" 
                class="form-control w" 
                placeholder="Enter your password" 
                required
                pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{9,}$"
                title="Password must be at least 9 characters long and include both letters and numbers.">
            </div>


            <br>
            <button type="submit" class="btn btn-login w-100">Submit</button>
        </form>

        <div class="signup-container">
            <span>Do you have an account? </span>
            <a href="/login/index" class="signup-btn m-2">Login</a>
        </div>
    </div>

</div>
<script>
    document.getElementById('signup-form').addEventListener('submit', function (event) {
        const form = event.target;
        const passwordInput = document.getElementById('PasswordHash');
        const errorMessage = document.getElementById('error-message');

        if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
            errorMessage.classList.remove('d-none'); 
            errorMessage.innerHTML = "⚠️ Please make sure all fields are filled correctly!";
        } 
        else if (!passwordInput.value.match(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d{Script=Arabic}]{9,}$/)) {
        event.preventDefault();
        event.stopPropagation(); 
        errorMessage.classList.remove('d-none'); 
        errorMessage.innerHTML = "⚠️ Password must be at least 9 characters long and include both letters and numbers.";
    } else {
            errorMessage.classList.add('d-none'); 
        }

        form.classList.add('was-validated'); 
    });
</script>
